"use strict";(self.webpackChunkims_ui=self.webpackChunkims_ui||[]).push([[401],{5401:(D,N,s)=>{s.r(N),s.d(N,{RegistrationComponent:()=>Y});var T=s(6814),o=s(95),I=s(7285),t=s(9468),q=s(1076),b=s(9962);function x(r,n){if(1&r&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&r){const a=t.oxw();t.xp6(1),t.hij(" ",a.error.error.message," ")}}function C(r,n){1&r&&(t.TgZ(0,"div",29),t._uU(1," First Name is required "),t.qZA())}function E(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Max length of 32 exceeded "),t.qZA())}function U(r,n){1&r&&(t.TgZ(0,"div",29),t._uU(1," Last Name is required "),t.qZA())}function A(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Max length of 32 exceeded "),t.qZA())}function w(r,n){1&r&&(t.TgZ(0,"div",29),t._uU(1," Employee ID is required "),t.qZA())}function F(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Employee ID must be a number "),t.qZA())}function P(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Max length of 32 exceeded "),t.qZA())}function R(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Email is required "),t.qZA())}function y(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Email should be in the form of 'xx@xx.xx' "),t.qZA())}function J(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Max length of 255 "),t.qZA())}function M(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Password is required "),t.qZA())}function O(r,n){1&r&&(t.TgZ(0,"div",30),t._uU(1," Passwords do not match "),t.qZA())}let Y=(()=>{class r{constructor(a,i,e){this.router=a,this.loginService=i,this.formBuilder=e}ngOnInit(){this.registrationForm=this.formBuilder.group({firstName:new o.NI("",[o.kI.required,o.kI.maxLength(32)]),lastName:new o.NI("",[o.kI.required,o.kI.maxLength(32)]),id:new o.NI("",[o.kI.required,o.kI.pattern(new RegExp("[0-9]+")),o.kI.maxLength(32)]),email:new o.NI("",[o.kI.email,o.kI.required,o.kI.maxLength(255)]),password:new o.NI("",[o.kI.required]),password_confirmation:new o.NI("",[])},{validator:this.confirmPasswordValidator("password","password_confirmation")})}onSubmit({value:a,valid:i}){i&&this.loginService.register(a).subscribe(e=>{localStorage.setItem("auth-token",btoa(e.authentication)),this.router.navigate(["home"])},e=>{this.error=e})}confirmPasswordValidator(a,i){return e=>{const m=e.controls[a],l=e.controls[i];l.errors&&!l.errors?.confirmPassword||l.setErrors(m.value!==l.value?{confirmPassword:!0}:null)}}cancel(){this.router.navigate(["login"])}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(q.F0),t.Y36(b.r),t.Y36(o.qu))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-registration"]],standalone:!0,features:[t.jDz],decls:53,vars:15,consts:[[1,"container"],[1,"row","d-flex","justify-content-center"],["class","col-8 mt-3 alert alert-danger","role","alert",4,"ngIf"],[1,"col-8","mt-3","card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row","mb-3"],["for","firstName","required","",1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["class","error",4,"ngIf"],["for","lastName","required","",1,"form-label"],["type","text","formControlName","lastName",1,"form-control"],["for","id","required","",1,"form-label"],["type","text","formControlName","id",1,"form-control"],["for","email","required","",1,"form-label"],["type","email","formControlName","email",1,"form-control"],["for","password","required","",1,"form-label"],["type","password","formControlName","password",1,"form-control"],["for","password_confirmation","required","",1,"form-label"],["type","password","formControlName","password_confirmation",1,"form-control"],[1,"row"],[1,"col","d-flex","justify-content-start","px-0"],[1,"btn","btn-danger",3,"click"],[1,"col","d-flex","justify-content-end","px-0"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"col-8","mt-3","alert","alert-danger"],[1,"invalid-feedback"],[1,"error"]],template:function(i,e){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,x,2,1,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),t._uU(7,"Register New User"),t.qZA()(),t.TgZ(8,"div",6)(9,"form",7),t.NdJ("ngSubmit",function(){return e.onSubmit(e.registrationForm)}),t.TgZ(10,"div",8)(11,"label",9),t._uU(12,"First Name"),t.qZA(),t._UZ(13,"input",10),t.YNc(14,C,2,0,"div",11),t.YNc(15,E,2,0,"div",12),t.qZA(),t.TgZ(16,"div",8)(17,"label",13),t._uU(18,"Last Name"),t.qZA(),t._UZ(19,"input",14),t.YNc(20,U,2,0,"div",11),t.YNc(21,A,2,0,"div",12),t.qZA(),t.TgZ(22,"div",8)(23,"label",15),t._uU(24,"Employee ID"),t.qZA(),t._UZ(25,"input",16),t.YNc(26,w,2,0,"div",11),t.YNc(27,F,2,0,"div",12),t.YNc(28,P,2,0,"div",12),t.qZA(),t.TgZ(29,"div",8)(30,"label",17),t._uU(31,"Email address"),t.qZA(),t._UZ(32,"input",18),t.YNc(33,R,2,0,"div",12),t.YNc(34,y,2,0,"div",12),t.YNc(35,J,2,0,"div",12),t.qZA(),t.TgZ(36,"div",8)(37,"label",19),t._uU(38,"Password"),t.qZA(),t._UZ(39,"input",20),t.YNc(40,M,2,0,"div",12),t.qZA(),t.TgZ(41,"div",8)(42,"label",21),t._uU(43,"Confirm Password"),t.qZA(),t._UZ(44,"input",22),t.YNc(45,O,2,0,"div",12),t.qZA(),t.TgZ(46,"div",23)(47,"div",24)(48,"button",25),t.NdJ("click",function(){return e.cancel()}),t._uU(49,"Cancel"),t.qZA()(),t.TgZ(50,"div",26)(51,"button",27),t._uU(52,"Submit"),t.qZA()()()()()()()()()),2&i){let m,l,d,u,g,_,f,p,c,v,h,Z;t.xp6(2),t.Q6J("ngIf",e.error),t.xp6(7),t.Q6J("formGroup",e.registrationForm),t.xp6(5),t.Q6J("ngIf",(null==(m=e.registrationForm.get("firstName"))?null:m.hasError("required"))&&(null==(m=e.registrationForm.get("firstName"))?null:m.touched)),t.xp6(1),t.Q6J("ngIf",(null==(l=e.registrationForm.get("firstName"))?null:l.hasError("maxlength"))&&(null==(l=e.registrationForm.get("firstName"))?null:l.touched)),t.xp6(5),t.Q6J("ngIf",(null==(d=e.registrationForm.get("lastName"))?null:d.hasError("required"))&&(null==(d=e.registrationForm.get("lastName"))?null:d.touched)),t.xp6(1),t.Q6J("ngIf",(null==(u=e.registrationForm.get("lastName"))?null:u.hasError("maxlength"))&&(null==(u=e.registrationForm.get("lastName"))?null:u.touched)),t.xp6(5),t.Q6J("ngIf",(null==(g=e.registrationForm.get("id"))?null:g.hasError("required"))&&(null==(g=e.registrationForm.get("id"))?null:g.touched)),t.xp6(1),t.Q6J("ngIf",(null==(_=e.registrationForm.get("id"))?null:_.hasError("pattern"))&&(null==(_=e.registrationForm.get("id"))?null:_.touched)),t.xp6(1),t.Q6J("ngIf",(null==(f=e.registrationForm.get("id"))?null:f.hasError("maxlength"))&&(null==(f=e.registrationForm.get("id"))?null:f.touched)),t.xp6(5),t.Q6J("ngIf",(null==(p=e.registrationForm.get("email"))?null:p.hasError("required"))&&(null==(p=e.registrationForm.get("email"))?null:p.touched)),t.xp6(1),t.Q6J("ngIf",(null==(c=e.registrationForm.get("email"))?null:c.hasError("email"))&&(null==(c=e.registrationForm.get("email"))?null:c.touched)),t.xp6(1),t.Q6J("ngIf",(null==(v=e.registrationForm.get("email"))?null:v.hasError("maxlength"))&&(null==(v=e.registrationForm.get("email"))?null:v.touched)),t.xp6(5),t.Q6J("ngIf",(null==(h=e.registrationForm.get("password"))?null:h.hasError("required"))&&(null==(h=e.registrationForm.get("password"))?null:h.touched)),t.xp6(5),t.Q6J("ngIf",(null==(Z=e.registrationForm.get("password_confirmation"))?null:Z.hasError("confirmPassword"))&&(null==(Z=e.registrationForm.get("password_confirmation"))?null:Z.touched)),t.xp6(6),t.Q6J("disabled",e.registrationForm.invalid)}},dependencies:[o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,I.IJ,T.O5],styles:["input.ng-dirty.ng-invalid[_ngcontent-%COMP%], input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border-style:solid;border-color:#f22610;box-shadow:inset 0 1px 1px #00000013,0 0 8px #ff00004d}.error[_ngcontent-%COMP%]{color:#f22610}input.ng-dirty.ng-valid[_ngcontent-%COMP%], input.ng-touched.ng-valid[_ngcontent-%COMP%]{border-style:solid;border-color:#0a3;box-shadow:inset 0 1px 1px #00000013,0 0 8px #00ff004d}"]})}return r})()}}]);