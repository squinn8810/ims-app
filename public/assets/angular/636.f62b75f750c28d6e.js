"use strict";(self.webpackChunkims_ui=self.webpackChunkims_ui||[]).push([[636],{1636:(A,g,i)=>{i.r(g),i.d(g,{ProfileUpdateComponent:()=>P});var t=i(95),v=i(7285),h=i(6814),e=i(9468),c=i(1076),Z=i(6530);function U(l,m){if(1&l&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&l){const o=e.oxw();e.xp6(1),e.hij(" ",o.error.error.message," ")}}function I(l,m){1&l&&(e.TgZ(0,"div",22),e._uU(1," First Name is required "),e.qZA())}function N(l,m){1&l&&(e.TgZ(0,"div",22),e._uU(1," Last Name is required "),e.qZA())}function T(l,m){1&l&&(e.TgZ(0,"div",23),e._uU(1," Employee ID is required "),e.qZA())}function E(l,m){1&l&&(e.TgZ(0,"div",22),e._uU(1," Employee ID must be a number "),e.qZA())}function b(l,m){1&l&&(e.TgZ(0,"div",22),e._uU(1," Max length of 32 exceeded "),e.qZA())}function q(l,m){1&l&&(e.TgZ(0,"div",22),e._uU(1," Email is required "),e.qZA())}function F(l,m){1&l&&(e.TgZ(0,"div",22),e._uU(1," Email should be in the form of 'xx@xx.xx' "),e.qZA())}let P=(()=>{class l{constructor(o,n,r,a){this.route=o,this.router=n,this.userService=r,this.formBuilder=a}ngOnInit(){this.profileForm=this.formBuilder.group({firstName:new t.NI("",[t.kI.required,t.kI.maxLength(32)]),lastName:new t.NI("",[t.kI.required,t.kI.maxLength(32)]),id:new t.NI("",[t.kI.required,t.kI.pattern(new RegExp("[0-9]+")),t.kI.maxLength(32)]),email:new t.NI("",[t.kI.email,t.kI.required,t.kI.maxLength(32)])}),this.route.data.subscribe(({currentUser:o})=>{this.profileForm.controls.firstName.setValue(o.first_name),this.profileForm.controls.lastName.setValue(o.last_name),this.profileForm.controls.id.setValue(o.employee_id),this.profileForm.controls.email.setValue(o.email)})}cancelUpdate(){this.router.navigate(["profile"])}onSubmit({value:o,valid:n}){n&&this.userService.updateProfile(o).subscribe(r=>{this.router.navigate(["profile"])},r=>{this.error=r})}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(c.gz),e.Y36(c.F0),e.Y36(Z.K),e.Y36(t.qu))};static#r=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-profile-update"]],standalone:!0,features:[e.jDz],decls:38,vars:10,consts:[[1,"container"],[1,"row"],[1,"row","d-flex","justify-content-center"],["class","col-8 mt-3 alert alert-danger","role","alert",4,"ngIf"],[1,"col-8","mt-3"],["nonvalidate","",3,"formGroup","ngSubmit"],[1,"row","mb-3"],["for","firstName","required","",1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],["class","error",4,"ngIf"],["for","lastName","required","",1,"form-label"],["type","text","formControlName","lastName",1,"form-control"],["for","id","required","",1,"form-label"],["type","text","formControlName","id",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","email","required","",1,"form-label"],["type","email","formControlName","email",1,"form-control"],[1,"col-6","d-flex","justify-content-start","px-0"],[1,"btn","btn-danger",3,"click"],[1,"col-6","d-flex","justify-content-end","px-0"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"col-8","mt-3","alert","alert-danger"],[1,"error"],[1,"invalid-feedback"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e._uU(3,"Update Profile"),e.qZA()(),e.TgZ(4,"div",2),e.YNc(5,U,2,1,"div",3),e.qZA(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return r.onSubmit(r.profileForm)}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"First Name"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,I,2,0,"div",9),e.qZA(),e.TgZ(13,"div",6)(14,"label",10),e._uU(15,"Last Name"),e.qZA(),e._UZ(16,"input",11),e.YNc(17,N,2,0,"div",9),e.qZA(),e.TgZ(18,"div",6)(19,"label",12),e._uU(20,"Employee ID"),e.qZA(),e._UZ(21,"input",13),e.YNc(22,T,2,0,"div",14),e.YNc(23,E,2,0,"div",9),e.YNc(24,b,2,0,"div",9),e.qZA(),e.TgZ(25,"div",6)(26,"label",15),e._uU(27,"Email address"),e.qZA(),e._UZ(28,"input",16),e.YNc(29,q,2,0,"div",9),e.YNc(30,F,2,0,"div",9),e.qZA(),e.TgZ(31,"div",6)(32,"div",17)(33,"button",18),e.NdJ("click",function(){return r.cancelUpdate()}),e._uU(34,"Cancel"),e.qZA()(),e.TgZ(35,"div",19)(36,"button",20),e._uU(37,"Update"),e.qZA()()()()()()),2&n){let a,u,d,f,p,s,_;e.xp6(5),e.Q6J("ngIf",r.error),e.xp6(2),e.Q6J("formGroup",r.profileForm),e.xp6(5),e.Q6J("ngIf",(null==(a=r.profileForm.get("firstName"))?null:a.hasError("required"))&&(null==(a=r.profileForm.get("firstName"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(u=r.profileForm.get("lastName"))?null:u.hasError("required"))&&(null==(u=r.profileForm.get("lastName"))?null:u.touched)),e.xp6(5),e.Q6J("ngIf",(null==(d=r.profileForm.get("id"))?null:d.hasError("required"))&&(null==(d=r.profileForm.get("id"))?null:d.touched)),e.xp6(1),e.Q6J("ngIf",(null==(f=r.profileForm.get("id"))?null:f.hasError("pattern"))&&(null==(f=r.profileForm.get("id"))?null:f.touched)),e.xp6(1),e.Q6J("ngIf",(null==(p=r.profileForm.get("id"))?null:p.hasError("maxlength"))&&(null==(p=r.profileForm.get("id"))?null:p.touched)),e.xp6(5),e.Q6J("ngIf",(null==(s=r.profileForm.get("email"))?null:s.hasError("required"))&&(null==(s=r.profileForm.get("email"))?null:s.touched)),e.xp6(1),e.Q6J("ngIf",(null==(_=r.profileForm.get("email"))?null:_.hasError("email"))&&(null==(_=r.profileForm.get("email"))?null:_.touched)),e.xp6(6),e.Q6J("disabled",r.profileForm.invalid)}},dependencies:[t.UX,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,v.IJ,h.O5]})}return l})()}}]);