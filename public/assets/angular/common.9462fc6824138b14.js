"use strict";(self.webpackChunkims_ui=self.webpackChunkims_ui||[]).push([[592],{2062:(_,p,o)=>{o.r(p),o.d(p,{ChartComponent:()=>v});var t=o(9468),e=o(6814),r=o(4472);function d(n,h){1&n&&(t.TgZ(0,"div",2),t._UZ(1,"div",3),t.qZA())}function a(n,h){1&n&&(t.TgZ(0,"div"),t._UZ(1,"div",4),t.TgZ(2,"div",5)(3,"div",6),t._UZ(4,"div",7),t.qZA(),t.TgZ(5,"div",6),t._UZ(6,"div",8),t.qZA()()())}let v=(()=>{class n{constructor(i){this.scannerService=i,this.chartReady=new t.vpe,this.loading=!0}ngOnInit(){this.getDataView(),setTimeout(()=>{this.loading=!1},1e4)}getDataView(){this.scannerService.getDataView().subscribe(i=>{this.data=i,this.loading=!1,this.drawTableChart(),this.drawLineChart(),this.drawPieChart()},i=>{console.error("Error fetching data:",i)})}drawTableChart(){const i=this.data.recentTransactions;google.charts.load("current",{packages:["table"]}),google.charts.setOnLoadCallback(()=>{const s=new google.visualization.DataTable,l=Object.keys(i[0]);l.forEach(c=>{s.addColumn(typeof i[0][c],c)}),i.forEach(c=>{const u=l.map(f=>c[f]);s.addRow(u)}),new google.visualization.Table(document.getElementById("table_div")).draw(s,{title:"Recent Removals",showRowNumber:!0,width:"100%",height:"100%"})})}drawLineChart(){const i=this.data.transactionTrends;google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(()=>{const s=new google.visualization.DataTable;s.addColumn("string","Date"),s.addColumn("number","Transactions"),Object.keys(i).forEach(c=>{s.addRow([c,i[c]])}),new google.visualization.LineChart(document.getElementById("trend_div")).draw(s,{title:"Usage Trends",width:900,height:600,hAxis:{gridlines:{}},vAxis:{gridlines:{count:10},minValue:0}})})}drawPieChart(){const i=this.data.transactionDistribution;google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(()=>{const s=new google.visualization.DataTable;s.addColumn("string","Item"),s.addColumn("number","Reorders"),Object.keys(i).forEach(c=>{s.addRow([c,i[c]])}),new google.visualization.PieChart(document.getElementById("pie_div")).draw(s,{title:"Transaction Distributions",sliceVisibilityThreshold:.05})})}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(r.L))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-chart"]],inputs:{recentTransactions:"recentTransactions",transactionDistribution:"transactionDistribution",transactionTrends:"transactionTrends"},outputs:{chartReady:"chartReady"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","loading-animation",4,"ngIf"],[4,"ngIf"],[1,"loading-animation"],[1,"spinner"],["id","table_div"],[1,"row"],[1,"col-md-6"],["id","trend_div"],["id","pie_div",2,"width","100%","height","500px"]],template:function(s,l){1&s&&(t.TgZ(0,"div"),t.YNc(1,d,2,0,"div",0),t.YNc(2,a,7,0,"div",1),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngIf",l.loading),t.xp6(1),t.Q6J("ngIf",!l.loading))},dependencies:[e.O5],styles:[".loading-animation[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #3498db;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return n})()},9962:(_,p,o)=>{o.d(p,{r:()=>d});var t=o(9862),e=o(4664),r=o(9468);let d=(()=>{class a{constructor(n){this.http=n,this.options={headers:new t.WM({Accept:"application/json","Content-Type":"application/json"})}}login(n){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,e.w)(()=>this.http.post("/api/login",n,this.options)))}logout(){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,e.w)(()=>this.http.post("/api/logout",this.options)))}register(n){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,e.w)(()=>this.http.post("/api/register",n,this.options)))}static#t=this.\u0275fac=function(h){return new(h||a)(r.LFG(t.eN))};static#n=this.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},7113:(_,p,o)=>{o.d(p,{A:()=>d});var t=o(9862),e=o(4664),r=o(9468);let d=(()=>{class a{constructor(n){this.http=n,this.options={headers:new t.WM({Accept:"application/json","Content-Type":"application/json"})}}sendResetRequest(n){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,e.w)(()=>this.http.post("/api/forgot-password",n,this.options)))}resetPassword(n){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,e.w)(()=>this.http.post("/api/reset-password",n,this.options)))}static#t=this.\u0275fac=function(h){return new(h||a)(r.LFG(t.eN))};static#n=this.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},4472:(_,p,o)=>{o.d(p,{L:()=>d});var t=o(9862),e=o(4664),r=o(9468);let d=(()=>{class a{constructor(n){this.http=n,this.options={headers:new t.WM({Accept:"application/json","Content-Type":"application/json"})}}postScan(n){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,e.w)(()=>this.http.post("/api/scan",n,this.options)))}getDataView(){return this.http.get("api/reports",this.options)}getReportView(n,h){const s={params:(new t.LE).set("itemLocID",n).set("time_period",h)};return this.http.get("api/reports",s)}getScannedList(){return this.http.get("/api/scanned-list",this.options)}sendNotification(){return this.http.post("/api/send-restock-notification",this.options)}static#t=this.\u0275fac=function(h){return new(h||a)(r.LFG(t.eN))};static#n=this.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);