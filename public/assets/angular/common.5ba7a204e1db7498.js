"use strict";(self.webpackChunkims_ui=self.webpackChunkims_ui||[]).push([[592],{2062:(v,p,o)=>{o.d(p,{x:()=>w});var t=o(9468),l=o(6814),c=o(95),g=o(4472);function a(s,m){1&s&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function f(s,m){1&s&&(t.TgZ(0,"div",13),t._UZ(1,"div",14),t.qZA())}function i(s,m){1&s&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function _(s,m){if(1&s){const n=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"label",17),t._uU(3,"Filter:"),t.qZA(),t.TgZ(4,"select",18),t.NdJ("ngModelChange",function(r){t.CHM(n);const h=t.oxw();return t.KtG(h.selectedTimePeriod=r)})("change",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.onDropdownChange())}),t.TgZ(5,"option",19),t._uU(6,"1 year"),t.qZA(),t.TgZ(7,"option",20),t._uU(8,"6 months"),t.qZA(),t.TgZ(9,"option",21),t._uU(10,"3 months"),t.qZA(),t.TgZ(11,"option",22),t._uU(12,"1 month"),t.qZA()()()()}if(2&s){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.selectedTimePeriod)}}let w=(()=>{class s{constructor(n){this.scannerService=n,this.chartReady=new t.vpe,this.loading=!0,this.selectedTimePeriod=""}ngOnInit(){this.getFilteredDataView(this.selectedTimePeriod),setTimeout(()=>{this.loading=!1},1e4)}getFilteredDataView(n){this.scannerService.getFilteredDataView1(n).subscribe(e=>{this.data=e,this.loading=!1,this.drawTableChart(),this.drawLineChart(),this.drawPieChart()},e=>{console.error("Error fetching data:",e)})}onDropdownChange(){this.getFilteredDataView(this.selectedTimePeriod)}drawTableChart(){const n=this.data.recentTransactions;google.charts.load("current",{packages:["table"]}),google.charts.setOnLoadCallback(()=>{const e=new google.visualization.DataTable,r=Object.keys(n[0]);r.forEach(d=>{e.addColumn(typeof n[0][d],d)}),n.forEach(d=>{const u=r.map(T=>d[T]);e.addRow(u)}),new google.visualization.Table(document.getElementById("table_div")).draw(e,{title:"Recent Removals",showRowNumber:!0,width:"100%",height:"100%"})})}drawLineChart(){const n=this.data.transactionTrends;google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(()=>{const e=new google.visualization.DataTable;e.addColumn("string","Date"),e.addColumn("number","Transactions"),Object.keys(n).forEach(d=>{e.addRow([d,n[d]])}),new google.visualization.LineChart(document.getElementById("trend_div")).draw(e,{title:"Usage Trends",width:"100%",height:"100%",hAxis:{gridlines:{}},vAxis:{gridlines:{count:10},minValue:0},curveType:"function"})})}drawPieChart(){const n=this.data.transactionDistribution;google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(()=>{const e=new google.visualization.DataTable;e.addColumn("string","Item"),e.addColumn("number","Reorders"),Object.keys(n).forEach(d=>{e.addRow([d,n[d]])}),new google.visualization.PieChart(document.getElementById("pie_div")).draw(e,{title:"Usage Distribution",width:"100%",height:"100%",sliceVisibilityThreshold:.05})})}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(g.L))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-chart"]],outputs:{chartReady:"chartReady"},standalone:!0,features:[t.jDz],decls:18,vars:4,consts:[[1,"container","mt-5"],[1,"card","text-center"],[1,"card-header"],[1,"card-title"],["class","card-body loading-animation",4,"ngIf"],["class","card-body",4,"ngIf"],["class","row my-3",4,"ngIf"],[1,"row","justify-content-center"],["id","trend_div",2,"width","90%","height","400px"],[1,"row","justify-content-center","my-6"],["id","pie_div",2,"width","90%","height","400px"],[1,"card-body","loading-animation"],[1,"spinner"],[1,"card-body"],["id","table_div",1,"row","my-3"],[1,"row","my-3"],[1,"col-12","text-center"],["for","timePeriod"],["id","timePeriod",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","12_months"],["value","6_months"],["value","3_months"],["value","1_month"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4,"Recent Transactions"),t.qZA()(),t.YNc(5,a,2,0,"div",4),t.YNc(6,f,2,0,"div",5),t.qZA()(),t.TgZ(7,"div",0)(8,"div",1)(9,"div",2)(10,"h5",3),t._uU(11,"Inventory Usage Data"),t.qZA()(),t.YNc(12,i,2,0,"div",4),t.YNc(13,_,13,1,"div",6),t.TgZ(14,"div",7),t._UZ(15,"div",8),t.qZA(),t.TgZ(16,"div",9),t._UZ(17,"div",10),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngIf",!r.loading),t.xp6(6),t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngIf",!r.loading))},dependencies:[l.O5,c.u5,c.YN,c.Kr,c.EJ,c.JJ,c.On],styles:[".custom-select[_ngcontent-%COMP%]{text-align:center;max-width:200px;margin:0 auto}.loading-animation[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #3498db;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return s})()},9962:(v,p,o)=>{o.d(p,{r:()=>g});var t=o(9862),l=o(4664),c=o(9468);let g=(()=>{class a{constructor(i){this.http=i,this.options={headers:new t.WM({Accept:"application/json","Content-Type":"application/json"})}}login(i){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,l.w)(()=>this.http.post("/api/login",i,this.options)))}logout(){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,l.w)(()=>this.http.post("/api/logout",this.options)))}register(i){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,l.w)(()=>this.http.post("/api/register",i,this.options)))}static#t=this.\u0275fac=function(_){return new(_||a)(c.LFG(t.eN))};static#e=this.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},7113:(v,p,o)=>{o.d(p,{A:()=>g});var t=o(9862),l=o(4664),c=o(9468);let g=(()=>{class a{constructor(i){this.http=i,this.options={headers:new t.WM({Accept:"application/json","Content-Type":"application/json"})}}sendResetRequest(i){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,l.w)(()=>this.http.post("/api/forgot-password",i,this.options)))}resetPassword(i){return this.http.get("/sanctum/csrf-cookie",this.options).pipe((0,l.w)(()=>this.http.post("/api/reset-password",i,this.options)))}static#t=this.\u0275fac=function(_){return new(_||a)(c.LFG(t.eN))};static#e=this.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);