"use strict";(self.webpackChunkims_ui=self.webpackChunkims_ui||[]).push([[94],{6094:(C,r,o)=>{o.r(r),o.d(r,{NotificationComponent:()=>Z});var l=o(6814),_=o(2715),f=o(592),n=o(9468),d=o(4472),u=o(1076);function p(i,s){if(1&i&&(n.TgZ(0,"div",7),n._uU(1),n.qZA()),2&i){const t=n.oxw();n.xp6(1),n.hij(" ",t.error.error.message," ")}}function g(i,s){1&i&&(n.TgZ(0,"div",8),n._uU(1," Scan Success "),n.qZA())}function m(i,s){1&i&&(n.TgZ(0,"p",9),n._uU(1," No Scans To Show. "),n.qZA())}function h(i,s){1&i&&(n.TgZ(0,"div",3)(1,"h5",9),n._uU(2,"Scanned Items"),n.qZA()())}function v(i,s){1&i&&(n.TgZ(0,"div",3)(1,"h5"),n._uU(2,"Notification Sent!"),n.qZA()())}function S(i,s){if(1&i&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&i){const t=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==t?null:t.Message," ")}}function T(i,s){if(1&i&&(n.TgZ(0,"div",9),n.YNc(1,S,2,1,"div",5),n.qZA()),2&i){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!t.notification)}}function N(i,s){if(1&i){const t=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){n.CHM(t);const c=n.oxw(2);return n.KtG(c.openNewScanner())}),n._uU(1,"Open Scanner"),n.qZA()}}function x(i,s){if(1&i&&(n.TgZ(0,"div"),n.YNc(1,h,3,0,"div",10),n.YNc(2,v,3,0,"div",11),n.TgZ(3,"div",3),n.YNc(4,T,2,1,"div",12),n.qZA(),n.TgZ(5,"div",13),n.YNc(6,N,2,0,"button",14),n.qZA()()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("nfIf",!t.notification),n.xp6(1),n.Q6J("ngIf",t.notification),n.xp6(2),n.Q6J("ngForOf",null==t.transactions?null:t.transactions.scannedList),n.xp6(2),n.Q6J("ngIf",!t.scannerOpen)}}let Z=(()=>{class i{constructor(t,e){this.scannerService=t,this.router=e,this.transactions={scannedList:[]}}ngOnInit(){this.notification=!1,this.scannerOpen=!1,this.getScannedList(),this.openNewScanner()}onScanSuccess(t,e){console.log("Code matched = "+t+", "+e);let c=new f.M(t,!1);this.scannerService.postScan(c).subscribe(a=>{this.transactions=a,this.scanSuccess=!0},a=>{this.error=a}),this.codeScanner.clear(),this.scannerOpen=!1}onScanFailure(t,e){}getScannedList(){this.scannerService.getScannedList().subscribe(t=>{this.transactions=t})}openNewScanner(){this.getScannerSize(),this.createScanner()}getScannerSize(){let t=Math.min(window.innerWidth,window.innerHeight);this.qrBoxSize=Math.floor(.7*t)}createScanner(){this.scannerOpen||(this.scanSuccess=!1,this.codeScanner=new _.wF("qr-reader",{fps:10,qrbox:{width:this.qrBoxSize,height:this.qrBoxSize}},!1),this.codeScanner.render((t,e)=>this.onScanSuccess(t,e),(t,e)=>this.onScanFailure(t,e)),this.scannerOpen=!0)}static#n=this.\u0275fac=function(e){return new(e||i)(n.Y36(d.L),n.Y36(u.F0))};static#t=this.\u0275cmp=n.Xpm({type:i,selectors:[["app-notification"]],standalone:!0,features:[n.jDz],decls:7,vars:4,consts:[[1,"container"],["class","mt-3 alert alert-danger col-9","role","alert",4,"ngIf"],["class","mt-3 alert alert-success col-9","role","alert",4,"ngIf"],[1,"row"],["class","col-12",4,"ngIf"],[4,"ngIf"],["id","qr-reader"],["role","alert",1,"mt-3","alert","alert-danger","col-9"],["role","alert",1,"mt-3","alert","alert-success","col-9"],[1,"col-12"],["class","row",4,"nfIf"],["class","row",4,"ngIf"],["class","col-12",4,"ngFor","ngForOf"],[1,"row","mt-3"],["class","btn btn-primary col-4",3,"click",4,"ngIf"],[1,"btn","btn-primary","col-4",3,"click"]],template:function(e,c){1&e&&(n.TgZ(0,"div",0),n.YNc(1,p,2,1,"div",1),n.YNc(2,g,2,0,"div",2),n.TgZ(3,"div",3),n.YNc(4,m,2,0,"p",4),n.qZA(),n.YNc(5,x,7,4,"div",5),n._UZ(6,"div",6),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",c.error),n.xp6(1),n.Q6J("ngIf",c.scanSuccess),n.xp6(2),n.Q6J("ngIf",!(null!=c.transactions&&c.transactions.scannedList)),n.xp6(1),n.Q6J("ngIf",null==c.transactions?null:c.transactions.scannedList))},dependencies:[l.O5,l.ax]})}return i})()}}]);